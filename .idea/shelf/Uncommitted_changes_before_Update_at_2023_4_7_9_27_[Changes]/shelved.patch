Index: example/.flutter-plugins-dependencies
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{\"info\":\"This is a generated file; do not edit or check into version control.\",\"plugins\":{\"ios\":[{\"name\":\"image_pickers\",\"path\":\"F:\\\\\\\\flutter_package\\\\\\\\image_pickers\\\\\\\\\",\"native_build\":true,\"dependencies\":[]}],\"android\":[{\"name\":\"image_pickers\",\"path\":\"F:\\\\\\\\flutter_package\\\\\\\\image_pickers\\\\\\\\\",\"native_build\":true,\"dependencies\":[]}],\"macos\":[],\"linux\":[],\"windows\":[],\"web\":[]},\"dependencyGraph\":[{\"name\":\"image_pickers\",\"dependencies\":[]}],\"date_created\":\"2023-04-06 17:38:47.717201\",\"version\":\"3.3.2\"}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/example/.flutter-plugins-dependencies b/example/.flutter-plugins-dependencies
--- a/example/.flutter-plugins-dependencies	(revision 462660a194f88c86bead6be6f625abf73e8ec926)
+++ b/example/.flutter-plugins-dependencies	(date 1680830573156)
@@ -1,1 +1,1 @@
-{"info":"This is a generated file; do not edit or check into version control.","plugins":{"ios":[{"name":"image_pickers","path":"F:\\\\flutter_package\\\\image_pickers\\\\","native_build":true,"dependencies":[]}],"android":[{"name":"image_pickers","path":"F:\\\\flutter_package\\\\image_pickers\\\\","native_build":true,"dependencies":[]}],"macos":[],"linux":[],"windows":[],"web":[]},"dependencyGraph":[{"name":"image_pickers","dependencies":[]}],"date_created":"2023-04-06 17:38:47.717201","version":"3.3.2"}
\ No newline at end of file
+{"info":"This is a generated file; do not edit or check into version control.","plugins":{"ios":[{"name":"image_pickers","path":"F:\\\\flutter_package\\\\image_pickers\\\\","native_build":true,"dependencies":[]}],"android":[{"name":"image_pickers","path":"F:\\\\flutter_package\\\\image_pickers\\\\","native_build":true,"dependencies":[]}],"macos":[],"linux":[],"windows":[],"web":[]},"dependencyGraph":[{"name":"image_pickers","dependencies":[]}],"date_created":"2023-04-07 09:22:53.156642","version":"3.3.2"}
\ No newline at end of file
Index: .idea/libraries/Dart_SDK.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/libraries/Dart_SDK.xml b/.idea/libraries/Dart_SDK.xml
deleted file mode 100644
--- a/.idea/libraries/Dart_SDK.xml	(revision 462660a194f88c86bead6be6f625abf73e8ec926)
+++ /dev/null	(revision 462660a194f88c86bead6be6f625abf73e8ec926)
@@ -1,27 +0,0 @@
-<component name="libraryTable">
-  <library name="Dart SDK">
-    <CLASSES>
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/async" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/cli" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/collection" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/convert" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/core" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/developer" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/ffi" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/html" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/indexed_db" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/io" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/isolate" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/js" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/js_util" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/math" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/mirrors" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/svg" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/typed_data" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/web_audio" />
-      <root url="file://$USER_HOME$/Documents/flutter3.0/bin/cache/dart-sdk/lib/web_gl" />
-    </CLASSES>
-    <JAVADOC />
-    <SOURCES />
-  </library>
-</component>
\ No newline at end of file
Index: android/.idea/gradle.xml
===================================================================
diff --git a/android/.idea/gradle.xml b/android/.idea/gradle.xml
deleted file mode 100644
--- a/android/.idea/gradle.xml	(revision 462660a194f88c86bead6be6f625abf73e8ec926)
+++ /dev/null	(revision 462660a194f88c86bead6be6f625abf73e8ec926)
@@ -1,19 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<project version="4">
-  <component name="GradleMigrationSettings" migrationVersion="1" />
-  <component name="GradleSettings">
-    <option name="linkedExternalProjectsSettings">
-      <GradleProjectSettings>
-        <option name="delegatedBuild" value="false" />
-        <option name="testRunner" value="GRADLE" />
-        <option name="distributionType" value="DEFAULT_WRAPPED" />
-        <option name="externalProjectPath" value="$PROJECT_DIR$" />
-        <option name="modules">
-          <set>
-            <option value="$PROJECT_DIR$" />
-          </set>
-        </option>
-      </GradleProjectSettings>
-    </option>
-  </component>
-</project>
\ No newline at end of file
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AndroidLayouts\">\r\n    <shared>\r\n      <config />\r\n    </shared>\r\n  </component>\r\n  <component name=\"AndroidLogFilters\">\r\n    <option name=\"TOOL_WINDOW_LOG_LEVEL\" value=\"error\" />\r\n    <option name=\"TOOL_WINDOW_CONFIGURED_FILTER\" value=\"Show only selected application\" />\r\n  </component>\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"NONE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"e9a73419-4ca1-4a22-98e4-96c91831654b\" name=\"Changes\" comment=\"安卓再次 适配 13权限问题\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/Dart_SDK.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/Dart_SDK.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/example/.flutter-plugins-dependencies\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/example/.flutter-plugins-dependencies\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/example/pubspec.lock\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/example/pubspec.lock\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/ios/Classes/ImagePickersPlugin.m\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/ios/Classes/ImagePickersPlugin.m\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"CodeInsightWorkspaceSettings\">\r\n    <option name=\"optimizeImportsOnTheFly\" value=\"true\" />\r\n  </component>\r\n  <component name=\"DefaultGradleProjectSettings\">\r\n    <option name=\"isMigrated\" value=\"true\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Dart class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"UPDATE_TYPE\" value=\"MERGE\" />\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"HighlightingSettingsPerFile\">\r\n    <setting file=\"file://$PROJECT_DIR$/example/lib/main.dart\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"file://$PROJECT_DIR$/example/test/widget_test.dart\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"file://$PROJECT_DIR$/image_pickers.iml\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"file://$PROJECT_DIR$/ios/Classes/ImagePickersPlugin.m\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"file://$PROJECT_DIR$/ios/image_pickers.podspec\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"file://$PROJECT_DIR$/lib/image_pickers.dart\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"file://$PROJECT_DIR$/pubspec.yaml\" root0=\"FORCE_HIGHLIGHTING\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1iaRkFtcIXgSbFWDcgtnXNmS9OY\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\r\n    <ConfirmationsSetting value=\"1\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"RunOnceActivity.cidr.known.project.marker\": \"true\",\r\n    \"cidr.known.project.marker\": \"true\",\r\n    \"dart.analysis.tool.window.visible\": \"false\",\r\n    \"io.flutter.reload.alreadyRun\": \"true\",\r\n    \"last_opened_file_path\": \"F:/flutter_package/image_pickers/example/android/build.gradle\",\r\n    \"settings.editor.selected.configurable\": \"flutter.settings\",\r\n    \"show.migrate.to.gradle.popup\": \"false\"\r\n  }\r\n}]]></component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"F:\\flutter_package\\image_pickers\\screenshots\" />\r\n      <recent name=\"F:\\flutter_package\\image_pickers\\example\\image\" />\r\n      <recent name=\"F:\\flutter_package\\image_pickers\\example\" />\r\n    </key>\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"F:\\flutter_package\\image_pickers\\android\" />\r\n      <recent name=\"F:\\flutter_package\\image_pickers\\example\\image\" />\r\n      <recent name=\"F:\\flutter_package\\image_pickers\\example\\image\\3.0x\" />\r\n      <recent name=\"F:\\flutter_package\\image_pickers\\example\\image\\2.0x\" />\r\n      <recent name=\"F:\\flutter_package\\image_pickers\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"SvnConfiguration\">\r\n    <configuration />\r\n  </component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"7080ff30-f4dc-4f89-a7df-5629d579afab\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1571893796328</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1571893796328</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"拍照，录制视频\">\r\n      <created>1574054834320</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574054834321</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"拍照，录制视频\">\r\n      <created>1574057571847</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574057571847</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"拍照，录制视频\">\r\n      <created>1574058466646</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574058466646</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"拍照，录制视频\">\r\n      <created>1574066055133</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574066055133</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"glide无法找到问题\">\r\n      <created>1574499205903</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574499205903</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"glide无法找到问题\">\r\n      <created>1574499783845</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574499783845</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"通过flutter端设置颜色，来改变原生图片选择页面颜色\">\r\n      <created>1574747650966</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574747650967</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"多图预览\">\r\n      <created>1574754059081</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574754059082</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"多图预览\">\r\n      <created>1574840416410</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574840416410</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00019\" summary=\"多图预览\">\r\n      <created>1574908984127</created>\r\n      <option name=\"number\" value=\"00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1574908984127</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00020\" summary=\"优化多图预览时内存问题\">\r\n      <created>1575448153705</created>\r\n      <option name=\"number\" value=\"00020\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1575448153705</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00021\" summary=\"优化多图预览时内存问题\">\r\n      <created>1576129259386</created>\r\n      <option name=\"number\" value=\"00021\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1576129259386</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00022\" summary=\"修改corp 为 crop\">\r\n      <created>1576216575693</created>\r\n      <option name=\"number\" value=\"00022\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1576216575693</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00023\" summary=\"保存图片字节数据\">\r\n      <created>1576221611124</created>\r\n      <option name=\"number\" value=\"00023\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1576221611125</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00024\" summary=\"保存图片字节数据\">\r\n      <created>1576222138469</created>\r\n      <option name=\"number\" value=\"00024\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1576222138469</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00025\" summary=\"保存图片字节数据\">\r\n      <created>1576228589580</created>\r\n      <option name=\"number\" value=\"00025\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00025\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1576228589580</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00026\" summary=\"保存图片字节数据\">\r\n      <created>1576490397916</created>\r\n      <option name=\"number\" value=\"00026\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00026\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1576490397916</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00027\" summary=\"安卓Qgif裁剪后变成静态图问题\">\r\n      <created>1577077762054</created>\r\n      <option name=\"number\" value=\"00027\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00027\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1577077762054</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00028\" summary=\"适配安卓Q文件存储，修复小米手机崩溃问题\">\r\n      <created>1589337596021</created>\r\n      <option name=\"number\" value=\"00028\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00028\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1589337596021</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00029\" summary=\"修复 iOS 因为图片（right_arrow.png、left_arrow.png、error.png）导致的各种问题\">\r\n      <created>1591086225182</created>\r\n      <option name=\"number\" value=\"00029\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00029\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1591086225182</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00030\" summary=\"修复 因使用bitmap获取后缀名造成的崩溃\">\r\n      <created>1591867369201</created>\r\n      <option name=\"number\" value=\"00030\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00030\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1591867369201</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00031\" summary=\"固定ios使用图片选择库的版本3.1.2\">\r\n      <created>1592210263402</created>\r\n      <option name=\"number\" value=\"00031\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00031\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1592210263402</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00032\" summary=\"使用最新sdk，优化权限控制\">\r\n      <created>1602221728733</created>\r\n      <option name=\"number\" value=\"00032\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00032\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1602221728733</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00033\" summary=\"使用最新sdk，优化权限控制\">\r\n      <created>1602222133558</created>\r\n      <option name=\"number\" value=\"00033\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00033\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1602222133558</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00034\" summary=\"使用最新sdk，优化权限控制\">\r\n      <created>1602557594091</created>\r\n      <option name=\"number\" value=\"00034\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00034\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1602557594091</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00035\" summary=\"使用最新sdk，优化权限控制\">\r\n      <created>1602564301541</created>\r\n      <option name=\"number\" value=\"00035\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00035\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1602564301541</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00036\" summary=\"使用最新sdk，优化权限控制\">\r\n      <created>1602575734590</created>\r\n      <option name=\"number\" value=\"00036\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00036\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1602575734590</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00037\" summary=\"处理ios上架问题\">\r\n      <created>1602658635696</created>\r\n      <option name=\"number\" value=\"00037\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00037\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1602658635696</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00038\" summary=\"处理ios上架问题\">\r\n      <created>1602900926545</created>\r\n      <option name=\"number\" value=\"00038\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00038\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1602900926545</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00039\" summary=\"处理安卓10问题\">\r\n      <created>1603179066602</created>\r\n      <option name=\"number\" value=\"00039\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00039\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1603179066602</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00040\" summary=\"ios打包问题，更新图片选择的框架\">\r\n      <created>1603672537130</created>\r\n      <option name=\"number\" value=\"00040\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00040\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1603672537130</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00041\" summary=\"处理安卓10问题\">\r\n      <created>1603796236146</created>\r\n      <option name=\"number\" value=\"00041\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00041\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1603796236146</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00042\" summary=\"处理安卓10问题\">\r\n      <created>1604044844476</created>\r\n      <option name=\"number\" value=\"00042\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00042\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1604044844476</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00043\" summary=\"IOS适配13.0以下以及 返回箭头问题现同安卓效果\">\r\n      <created>1626771067611</created>\r\n      <option name=\"number\" value=\"00043\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00043\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1626771067615</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00044\" summary=\"IOS适配13.0以下以及 返回箭头问题现同安卓效果\">\r\n      <created>1626775383033</created>\r\n      <option name=\"number\" value=\"00044\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00044\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1626775383033</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00045\" summary=\"IOS适配13.0以下以及 返回箭头问题现同安卓效果\">\r\n      <created>1626776120974</created>\r\n      <option name=\"number\" value=\"00045\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00045\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1626776120974</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00046\" summary=\"IOS适配13.0以下以及 返回箭头问题现同安卓效果\">\r\n      <created>1634865708795</created>\r\n      <option name=\"number\" value=\"00046\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00046\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1634865708796</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00047\" summary=\"IOS适配13.0以下以及 返回箭头问题现同安卓效果\">\r\n      <created>1634868113263</created>\r\n      <option name=\"number\" value=\"00047\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00047\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1634868113263</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00048\" summary=\"未选择图片将返回空数组，未拍照或者未拍摄视频将返回null\">\r\n      <created>1634884028752</created>\r\n      <option name=\"number\" value=\"00048\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00048\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1634884028752</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00049\" summary=\"未选择图片将返回空数组，未拍照或者未拍摄视频将返回null\">\r\n      <created>1635476300282</created>\r\n      <option name=\"number\" value=\"00049\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00049\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635476300282</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00050\" summary=\"安卓更新最新的图片选择库\">\r\n      <created>1667208374514</created>\r\n      <option name=\"number\" value=\"00050\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00050\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1667208374515</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00051\" summary=\"安卓更新最新的图片选择库\">\r\n      <created>1670375662944</created>\r\n      <option name=\"number\" value=\"00051\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00051\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1670375662944</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00052\" summary=\"安卓更新最新的图片选择库\">\r\n      <created>1670377923885</created>\r\n      <option name=\"number\" value=\"00052\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00052\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1670377923885</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00053\" summary=\"安卓更新最新的图片选择库\">\r\n      <created>1670397231349</created>\r\n      <option name=\"number\" value=\"00053\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00053\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1670397231350</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00054\" summary=\"安卓更新最新的图片选择库,适配 13\">\r\n      <created>1678166711729</created>\r\n      <option name=\"number\" value=\"00054\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00054\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1678166711729</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00055\" summary=\"ios更新最新的图片选择库\">\r\n      <created>1678944162373</created>\r\n      <option name=\"number\" value=\"00055\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00055\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1678944162373</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00056\" summary=\"ios更新最新的图片选择库\">\r\n      <created>1678944291403</created>\r\n      <option name=\"number\" value=\"00056\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00056\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1678944291403</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00057\" summary=\"发布2.0.1\">\r\n      <created>1679019867874</created>\r\n      <option name=\"number\" value=\"00057\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00057\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1679019867874</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00058\" summary=\"安卓再次 适配 13权限问题\">\r\n      <created>1680156554707</created>\r\n      <option name=\"number\" value=\"00058\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00058\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1680156554707</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"59\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"Vcs.Log.History.Properties\">\r\n    <option name=\"COLUMN_ID_ORDER\">\r\n      <list>\r\n        <option value=\"Default.Root\" />\r\n        <option value=\"Default.Author\" />\r\n        <option value=\"Default.Date\" />\r\n        <option value=\"Default.Subject\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_FILTERS\">\r\n      <map>\r\n        <entry key=\"Branch\">\r\n          <value>\r\n            <list />\r\n          </value>\r\n        </entry>\r\n        <entry key=\"User\">\r\n          <value>\r\n            <list />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"CHECK_CODE_SMELLS_BEFORE_PROJECT_COMMIT\" value=\"false\" />\r\n    <option name=\"CHECK_NEW_TODO\" value=\"false\" />\r\n    <ignored-roots>\r\n      <path value=\"$PROJECT_DIR$/example/ios/.symlinks/plugins/image_pickers\" />\r\n    </ignored-roots>\r\n    <MESSAGE value=\"修复安卓9无法加载图片问题\" />\r\n    <MESSAGE value=\"ui颜色\" />\r\n    <MESSAGE value=\"拍照，录制视频\" />\r\n    <MESSAGE value=\"glide无法找到问题\" />\r\n    <MESSAGE value=\"通过flutter端设置颜色，来改变原生图片选择页面颜色\" />\r\n    <MESSAGE value=\"多图预览\" />\r\n    <MESSAGE value=\"优化多图预览时内存问题\" />\r\n    <MESSAGE value=\"修改corp 为 crop\" />\r\n    <MESSAGE value=\"保存图片字节数据\" />\r\n    <MESSAGE value=\"安卓Qgif裁剪后变成静态图问题\" />\r\n    <MESSAGE value=\"适配安卓Q文件存储，修复小米手机崩溃问题\" />\r\n    <MESSAGE value=\"修复 iOS 因为图片（right_arrow.png、left_arrow.png、error.png）导致的各种问题\" />\r\n    <MESSAGE value=\"修复 因使用bitmap获取后缀名造成的崩溃\" />\r\n    <MESSAGE value=\"固定ios使用图片选择库的版本3.1.2\" />\r\n    <MESSAGE value=\"使用最新sdk，优化权限控制\" />\r\n    <MESSAGE value=\"处理ios上架问题\" />\r\n    <MESSAGE value=\"ios打包问题，更新图片选择的框架\" />\r\n    <MESSAGE value=\"处理安卓10问题\" />\r\n    <MESSAGE value=\"IOS适配13.0以下以及 返回箭头问题现同安卓效果\" />\r\n    <MESSAGE value=\"未选择图片将返回空数组，未拍照或者未拍摄视频将返回null\" />\r\n    <MESSAGE value=\"安卓更新最新的图片选择库\" />\r\n    <MESSAGE value=\"安卓更新最新的图片选择库,适配 13\" />\r\n    <MESSAGE value=\"ios更新最新的图片选择库\" />\r\n    <MESSAGE value=\"发布2.0.1\" />\r\n    <MESSAGE value=\"安卓再次 适配 13权限问题\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"安卓再次 适配 13权限问题\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"com.jetbrains.cidr.execution.debugger.OCBreakpointType\">\r\n          <url>file://$PROJECT_DIR$/ios/Classes/AKGallery/PlayTheVideoVC.m</url>\r\n          <line>112</line>\r\n          <option name=\"timeStamp\" value=\"1\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 462660a194f88c86bead6be6f625abf73e8ec926)
+++ b/.idea/workspace.xml	(date 1680830865198)
@@ -1,527 +1,59 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="AndroidLayouts">
-    <shared>
-      <config />
-    </shared>
-  </component>
-  <component name="AndroidLogFilters">
-    <option name="TOOL_WINDOW_LOG_LEVEL" value="error" />
-    <option name="TOOL_WINDOW_CONFIGURED_FILTER" value="Show only selected application" />
-  </component>
   <component name="AutoImportSettings">
     <option name="autoReloadType" value="NONE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="e9a73419-4ca1-4a22-98e4-96c91831654b" name="Changes" comment="安卓再次 适配 13权限问题">
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/Dart_SDK.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/Dart_SDK.xml" afterDir="false" />
+    <list default="true" id="0cdfd5ac-d0bc-40e5-a503-df650d375c68" name="Changes" comment="">
+      <change beforePath="$PROJECT_DIR$/.idea/libraries/Dart_SDK.xml" beforeDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/android/.idea/gradle.xml" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/android/src/main/java/com/leeson/image_pickers/activitys/SelectPicsActivity.java" beforeDir="false" afterPath="$PROJECT_DIR$/android/src/main/java/com/leeson/image_pickers/activitys/SelectPicsActivity.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/example/.flutter-plugins-dependencies" beforeDir="false" afterPath="$PROJECT_DIR$/example/.flutter-plugins-dependencies" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/example/pubspec.lock" beforeDir="false" afterPath="$PROJECT_DIR$/example/pubspec.lock" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/ios/Classes/ImagePickersPlugin.m" beforeDir="false" afterPath="$PROJECT_DIR$/ios/Classes/ImagePickersPlugin.m" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/example/lib/main.dart" beforeDir="false" afterPath="$PROJECT_DIR$/example/lib/main.dart" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
     <option name="LAST_RESOLUTION" value="IGNORE" />
-  </component>
-  <component name="CodeInsightWorkspaceSettings">
-    <option name="optimizeImportsOnTheFly" value="true" />
-  </component>
-  <component name="DefaultGradleProjectSettings">
-    <option name="isMigrated" value="true" />
-  </component>
-  <component name="FileTemplateManagerImpl">
-    <option name="RECENT_TEMPLATES">
-      <list>
-        <option value="Dart class" />
-      </list>
-    </option>
   </component>
   <component name="Git.Settings">
-    <option name="UPDATE_TYPE" value="MERGE" />
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
-  </component>
-  <component name="HighlightingSettingsPerFile">
-    <setting file="file://$PROJECT_DIR$/example/lib/main.dart" root0="FORCE_HIGHLIGHTING" />
-    <setting file="file://$PROJECT_DIR$/example/test/widget_test.dart" root0="FORCE_HIGHLIGHTING" />
-    <setting file="file://$PROJECT_DIR$/image_pickers.iml" root0="FORCE_HIGHLIGHTING" />
-    <setting file="file://$PROJECT_DIR$/ios/Classes/ImagePickersPlugin.m" root0="FORCE_HIGHLIGHTING" />
-    <setting file="file://$PROJECT_DIR$/ios/image_pickers.podspec" root0="FORCE_HIGHLIGHTING" />
-    <setting file="file://$PROJECT_DIR$/lib/image_pickers.dart" root0="FORCE_HIGHLIGHTING" />
-    <setting file="file://$PROJECT_DIR$/pubspec.yaml" root0="FORCE_HIGHLIGHTING" />
   </component>
   <component name="MarkdownSettingsMigration">
     <option name="stateVersion" value="1" />
   </component>
-  <component name="ProjectId" id="1iaRkFtcIXgSbFWDcgtnXNmS9OY" />
+  <component name="ProjectId" id="2O4mqRSOZeExpOwJjRiq5HpjGdH" />
   <component name="ProjectLevelVcsManager" settingsEditedManually="true">
     <ConfirmationsSetting value="1" id="Add" />
   </component>
   <component name="ProjectViewState">
     <option name="hideEmptyMiddlePackages" value="true" />
+    <option name="showExcludedFiles" value="false" />
     <option name="showLibraryContents" value="true" />
+    <option name="showVisibilityIcons" value="true" />
   </component>
   <component name="PropertiesComponent"><![CDATA[{
   "keyToString": {
+    "RunOnceActivity.OpenProjectViewOnStart": "true",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
     "RunOnceActivity.cidr.known.project.marker": "true",
     "cidr.known.project.marker": "true",
     "dart.analysis.tool.window.visible": "false",
     "io.flutter.reload.alreadyRun": "true",
-    "last_opened_file_path": "F:/flutter_package/image_pickers/example/android/build.gradle",
     "settings.editor.selected.configurable": "flutter.settings",
     "show.migrate.to.gradle.popup": "false"
   }
 }]]></component>
-  <component name="RecentsManager">
-    <key name="MoveFile.RECENT_KEYS">
-      <recent name="F:\flutter_package\image_pickers\screenshots" />
-      <recent name="F:\flutter_package\image_pickers\example\image" />
-      <recent name="F:\flutter_package\image_pickers\example" />
-    </key>
-    <key name="CopyFile.RECENT_KEYS">
-      <recent name="F:\flutter_package\image_pickers\android" />
-      <recent name="F:\flutter_package\image_pickers\example\image" />
-      <recent name="F:\flutter_package\image_pickers\example\image\3.0x" />
-      <recent name="F:\flutter_package\image_pickers\example\image\2.0x" />
-      <recent name="F:\flutter_package\image_pickers" />
-    </key>
-  </component>
   <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
-  <component name="SvnConfiguration">
-    <configuration />
-  </component>
   <component name="TaskManager">
     <task active="true" id="Default" summary="Default task">
-      <changelist id="7080ff30-f4dc-4f89-a7df-5629d579afab" name="Default Changelist" comment="" />
-      <created>1571893796328</created>
+      <changelist id="0cdfd5ac-d0bc-40e5-a503-df650d375c68" name="Changes" comment="" />
+      <created>1680828418906</created>
       <option name="number" value="Default" />
       <option name="presentableId" value="Default" />
-      <updated>1571893796328</updated>
-    </task>
-    <task id="LOCAL-00010" summary="拍照，录制视频">
-      <created>1574054834320</created>
-      <option name="number" value="00010" />
-      <option name="presentableId" value="LOCAL-00010" />
-      <option name="project" value="LOCAL" />
-      <updated>1574054834321</updated>
-    </task>
-    <task id="LOCAL-00011" summary="拍照，录制视频">
-      <created>1574057571847</created>
-      <option name="number" value="00011" />
-      <option name="presentableId" value="LOCAL-00011" />
-      <option name="project" value="LOCAL" />
-      <updated>1574057571847</updated>
-    </task>
-    <task id="LOCAL-00012" summary="拍照，录制视频">
-      <created>1574058466646</created>
-      <option name="number" value="00012" />
-      <option name="presentableId" value="LOCAL-00012" />
-      <option name="project" value="LOCAL" />
-      <updated>1574058466646</updated>
-    </task>
-    <task id="LOCAL-00013" summary="拍照，录制视频">
-      <created>1574066055133</created>
-      <option name="number" value="00013" />
-      <option name="presentableId" value="LOCAL-00013" />
-      <option name="project" value="LOCAL" />
-      <updated>1574066055133</updated>
-    </task>
-    <task id="LOCAL-00014" summary="glide无法找到问题">
-      <created>1574499205903</created>
-      <option name="number" value="00014" />
-      <option name="presentableId" value="LOCAL-00014" />
-      <option name="project" value="LOCAL" />
-      <updated>1574499205903</updated>
-    </task>
-    <task id="LOCAL-00015" summary="glide无法找到问题">
-      <created>1574499783845</created>
-      <option name="number" value="00015" />
-      <option name="presentableId" value="LOCAL-00015" />
-      <option name="project" value="LOCAL" />
-      <updated>1574499783845</updated>
-    </task>
-    <task id="LOCAL-00016" summary="通过flutter端设置颜色，来改变原生图片选择页面颜色">
-      <created>1574747650966</created>
-      <option name="number" value="00016" />
-      <option name="presentableId" value="LOCAL-00016" />
-      <option name="project" value="LOCAL" />
-      <updated>1574747650967</updated>
-    </task>
-    <task id="LOCAL-00017" summary="多图预览">
-      <created>1574754059081</created>
-      <option name="number" value="00017" />
-      <option name="presentableId" value="LOCAL-00017" />
-      <option name="project" value="LOCAL" />
-      <updated>1574754059082</updated>
-    </task>
-    <task id="LOCAL-00018" summary="多图预览">
-      <created>1574840416410</created>
-      <option name="number" value="00018" />
-      <option name="presentableId" value="LOCAL-00018" />
-      <option name="project" value="LOCAL" />
-      <updated>1574840416410</updated>
-    </task>
-    <task id="LOCAL-00019" summary="多图预览">
-      <created>1574908984127</created>
-      <option name="number" value="00019" />
-      <option name="presentableId" value="LOCAL-00019" />
-      <option name="project" value="LOCAL" />
-      <updated>1574908984127</updated>
-    </task>
-    <task id="LOCAL-00020" summary="优化多图预览时内存问题">
-      <created>1575448153705</created>
-      <option name="number" value="00020" />
-      <option name="presentableId" value="LOCAL-00020" />
-      <option name="project" value="LOCAL" />
-      <updated>1575448153705</updated>
-    </task>
-    <task id="LOCAL-00021" summary="优化多图预览时内存问题">
-      <created>1576129259386</created>
-      <option name="number" value="00021" />
-      <option name="presentableId" value="LOCAL-00021" />
-      <option name="project" value="LOCAL" />
-      <updated>1576129259386</updated>
-    </task>
-    <task id="LOCAL-00022" summary="修改corp 为 crop">
-      <created>1576216575693</created>
-      <option name="number" value="00022" />
-      <option name="presentableId" value="LOCAL-00022" />
-      <option name="project" value="LOCAL" />
-      <updated>1576216575693</updated>
-    </task>
-    <task id="LOCAL-00023" summary="保存图片字节数据">
-      <created>1576221611124</created>
-      <option name="number" value="00023" />
-      <option name="presentableId" value="LOCAL-00023" />
-      <option name="project" value="LOCAL" />
-      <updated>1576221611125</updated>
-    </task>
-    <task id="LOCAL-00024" summary="保存图片字节数据">
-      <created>1576222138469</created>
-      <option name="number" value="00024" />
-      <option name="presentableId" value="LOCAL-00024" />
-      <option name="project" value="LOCAL" />
-      <updated>1576222138469</updated>
-    </task>
-    <task id="LOCAL-00025" summary="保存图片字节数据">
-      <created>1576228589580</created>
-      <option name="number" value="00025" />
-      <option name="presentableId" value="LOCAL-00025" />
-      <option name="project" value="LOCAL" />
-      <updated>1576228589580</updated>
-    </task>
-    <task id="LOCAL-00026" summary="保存图片字节数据">
-      <created>1576490397916</created>
-      <option name="number" value="00026" />
-      <option name="presentableId" value="LOCAL-00026" />
-      <option name="project" value="LOCAL" />
-      <updated>1576490397916</updated>
-    </task>
-    <task id="LOCAL-00027" summary="安卓Qgif裁剪后变成静态图问题">
-      <created>1577077762054</created>
-      <option name="number" value="00027" />
-      <option name="presentableId" value="LOCAL-00027" />
-      <option name="project" value="LOCAL" />
-      <updated>1577077762054</updated>
-    </task>
-    <task id="LOCAL-00028" summary="适配安卓Q文件存储，修复小米手机崩溃问题">
-      <created>1589337596021</created>
-      <option name="number" value="00028" />
-      <option name="presentableId" value="LOCAL-00028" />
-      <option name="project" value="LOCAL" />
-      <updated>1589337596021</updated>
-    </task>
-    <task id="LOCAL-00029" summary="修复 iOS 因为图片（right_arrow.png、left_arrow.png、error.png）导致的各种问题">
-      <created>1591086225182</created>
-      <option name="number" value="00029" />
-      <option name="presentableId" value="LOCAL-00029" />
-      <option name="project" value="LOCAL" />
-      <updated>1591086225182</updated>
-    </task>
-    <task id="LOCAL-00030" summary="修复 因使用bitmap获取后缀名造成的崩溃">
-      <created>1591867369201</created>
-      <option name="number" value="00030" />
-      <option name="presentableId" value="LOCAL-00030" />
-      <option name="project" value="LOCAL" />
-      <updated>1591867369201</updated>
-    </task>
-    <task id="LOCAL-00031" summary="固定ios使用图片选择库的版本3.1.2">
-      <created>1592210263402</created>
-      <option name="number" value="00031" />
-      <option name="presentableId" value="LOCAL-00031" />
-      <option name="project" value="LOCAL" />
-      <updated>1592210263402</updated>
+      <updated>1680828418906</updated>
     </task>
-    <task id="LOCAL-00032" summary="使用最新sdk，优化权限控制">
-      <created>1602221728733</created>
-      <option name="number" value="00032" />
-      <option name="presentableId" value="LOCAL-00032" />
-      <option name="project" value="LOCAL" />
-      <updated>1602221728733</updated>
-    </task>
-    <task id="LOCAL-00033" summary="使用最新sdk，优化权限控制">
-      <created>1602222133558</created>
-      <option name="number" value="00033" />
-      <option name="presentableId" value="LOCAL-00033" />
-      <option name="project" value="LOCAL" />
-      <updated>1602222133558</updated>
-    </task>
-    <task id="LOCAL-00034" summary="使用最新sdk，优化权限控制">
-      <created>1602557594091</created>
-      <option name="number" value="00034" />
-      <option name="presentableId" value="LOCAL-00034" />
-      <option name="project" value="LOCAL" />
-      <updated>1602557594091</updated>
-    </task>
-    <task id="LOCAL-00035" summary="使用最新sdk，优化权限控制">
-      <created>1602564301541</created>
-      <option name="number" value="00035" />
-      <option name="presentableId" value="LOCAL-00035" />
-      <option name="project" value="LOCAL" />
-      <updated>1602564301541</updated>
-    </task>
-    <task id="LOCAL-00036" summary="使用最新sdk，优化权限控制">
-      <created>1602575734590</created>
-      <option name="number" value="00036" />
-      <option name="presentableId" value="LOCAL-00036" />
-      <option name="project" value="LOCAL" />
-      <updated>1602575734590</updated>
-    </task>
-    <task id="LOCAL-00037" summary="处理ios上架问题">
-      <created>1602658635696</created>
-      <option name="number" value="00037" />
-      <option name="presentableId" value="LOCAL-00037" />
-      <option name="project" value="LOCAL" />
-      <updated>1602658635696</updated>
-    </task>
-    <task id="LOCAL-00038" summary="处理ios上架问题">
-      <created>1602900926545</created>
-      <option name="number" value="00038" />
-      <option name="presentableId" value="LOCAL-00038" />
-      <option name="project" value="LOCAL" />
-      <updated>1602900926545</updated>
-    </task>
-    <task id="LOCAL-00039" summary="处理安卓10问题">
-      <created>1603179066602</created>
-      <option name="number" value="00039" />
-      <option name="presentableId" value="LOCAL-00039" />
-      <option name="project" value="LOCAL" />
-      <updated>1603179066602</updated>
-    </task>
-    <task id="LOCAL-00040" summary="ios打包问题，更新图片选择的框架">
-      <created>1603672537130</created>
-      <option name="number" value="00040" />
-      <option name="presentableId" value="LOCAL-00040" />
-      <option name="project" value="LOCAL" />
-      <updated>1603672537130</updated>
-    </task>
-    <task id="LOCAL-00041" summary="处理安卓10问题">
-      <created>1603796236146</created>
-      <option name="number" value="00041" />
-      <option name="presentableId" value="LOCAL-00041" />
-      <option name="project" value="LOCAL" />
-      <updated>1603796236146</updated>
-    </task>
-    <task id="LOCAL-00042" summary="处理安卓10问题">
-      <created>1604044844476</created>
-      <option name="number" value="00042" />
-      <option name="presentableId" value="LOCAL-00042" />
-      <option name="project" value="LOCAL" />
-      <updated>1604044844476</updated>
-    </task>
-    <task id="LOCAL-00043" summary="IOS适配13.0以下以及 返回箭头问题现同安卓效果">
-      <created>1626771067611</created>
-      <option name="number" value="00043" />
-      <option name="presentableId" value="LOCAL-00043" />
-      <option name="project" value="LOCAL" />
-      <updated>1626771067615</updated>
-    </task>
-    <task id="LOCAL-00044" summary="IOS适配13.0以下以及 返回箭头问题现同安卓效果">
-      <created>1626775383033</created>
-      <option name="number" value="00044" />
-      <option name="presentableId" value="LOCAL-00044" />
-      <option name="project" value="LOCAL" />
-      <updated>1626775383033</updated>
-    </task>
-    <task id="LOCAL-00045" summary="IOS适配13.0以下以及 返回箭头问题现同安卓效果">
-      <created>1626776120974</created>
-      <option name="number" value="00045" />
-      <option name="presentableId" value="LOCAL-00045" />
-      <option name="project" value="LOCAL" />
-      <updated>1626776120974</updated>
-    </task>
-    <task id="LOCAL-00046" summary="IOS适配13.0以下以及 返回箭头问题现同安卓效果">
-      <created>1634865708795</created>
-      <option name="number" value="00046" />
-      <option name="presentableId" value="LOCAL-00046" />
-      <option name="project" value="LOCAL" />
-      <updated>1634865708796</updated>
-    </task>
-    <task id="LOCAL-00047" summary="IOS适配13.0以下以及 返回箭头问题现同安卓效果">
-      <created>1634868113263</created>
-      <option name="number" value="00047" />
-      <option name="presentableId" value="LOCAL-00047" />
-      <option name="project" value="LOCAL" />
-      <updated>1634868113263</updated>
-    </task>
-    <task id="LOCAL-00048" summary="未选择图片将返回空数组，未拍照或者未拍摄视频将返回null">
-      <created>1634884028752</created>
-      <option name="number" value="00048" />
-      <option name="presentableId" value="LOCAL-00048" />
-      <option name="project" value="LOCAL" />
-      <updated>1634884028752</updated>
-    </task>
-    <task id="LOCAL-00049" summary="未选择图片将返回空数组，未拍照或者未拍摄视频将返回null">
-      <created>1635476300282</created>
-      <option name="number" value="00049" />
-      <option name="presentableId" value="LOCAL-00049" />
-      <option name="project" value="LOCAL" />
-      <updated>1635476300282</updated>
-    </task>
-    <task id="LOCAL-00050" summary="安卓更新最新的图片选择库">
-      <created>1667208374514</created>
-      <option name="number" value="00050" />
-      <option name="presentableId" value="LOCAL-00050" />
-      <option name="project" value="LOCAL" />
-      <updated>1667208374515</updated>
-    </task>
-    <task id="LOCAL-00051" summary="安卓更新最新的图片选择库">
-      <created>1670375662944</created>
-      <option name="number" value="00051" />
-      <option name="presentableId" value="LOCAL-00051" />
-      <option name="project" value="LOCAL" />
-      <updated>1670375662944</updated>
-    </task>
-    <task id="LOCAL-00052" summary="安卓更新最新的图片选择库">
-      <created>1670377923885</created>
-      <option name="number" value="00052" />
-      <option name="presentableId" value="LOCAL-00052" />
-      <option name="project" value="LOCAL" />
-      <updated>1670377923885</updated>
-    </task>
-    <task id="LOCAL-00053" summary="安卓更新最新的图片选择库">
-      <created>1670397231349</created>
-      <option name="number" value="00053" />
-      <option name="presentableId" value="LOCAL-00053" />
-      <option name="project" value="LOCAL" />
-      <updated>1670397231350</updated>
-    </task>
-    <task id="LOCAL-00054" summary="安卓更新最新的图片选择库,适配 13">
-      <created>1678166711729</created>
-      <option name="number" value="00054" />
-      <option name="presentableId" value="LOCAL-00054" />
-      <option name="project" value="LOCAL" />
-      <updated>1678166711729</updated>
-    </task>
-    <task id="LOCAL-00055" summary="ios更新最新的图片选择库">
-      <created>1678944162373</created>
-      <option name="number" value="00055" />
-      <option name="presentableId" value="LOCAL-00055" />
-      <option name="project" value="LOCAL" />
-      <updated>1678944162373</updated>
-    </task>
-    <task id="LOCAL-00056" summary="ios更新最新的图片选择库">
-      <created>1678944291403</created>
-      <option name="number" value="00056" />
-      <option name="presentableId" value="LOCAL-00056" />
-      <option name="project" value="LOCAL" />
-      <updated>1678944291403</updated>
-    </task>
-    <task id="LOCAL-00057" summary="发布2.0.1">
-      <created>1679019867874</created>
-      <option name="number" value="00057" />
-      <option name="presentableId" value="LOCAL-00057" />
-      <option name="project" value="LOCAL" />
-      <updated>1679019867874</updated>
-    </task>
-    <task id="LOCAL-00058" summary="安卓再次 适配 13权限问题">
-      <created>1680156554707</created>
-      <option name="number" value="00058" />
-      <option name="presentableId" value="LOCAL-00058" />
-      <option name="project" value="LOCAL" />
-      <updated>1680156554707</updated>
-    </task>
-    <option name="localTasksCounter" value="59" />
     <servers />
   </component>
-  <component name="Vcs.Log.History.Properties">
-    <option name="COLUMN_ID_ORDER">
-      <list>
-        <option value="Default.Root" />
-        <option value="Default.Author" />
-        <option value="Default.Date" />
-        <option value="Default.Subject" />
-      </list>
-    </option>
-  </component>
-  <component name="Vcs.Log.Tabs.Properties">
-    <option name="TAB_STATES">
-      <map>
-        <entry key="MAIN">
-          <value>
-            <State />
-          </value>
-        </entry>
-      </map>
-    </option>
-    <option name="RECENT_FILTERS">
-      <map>
-        <entry key="Branch">
-          <value>
-            <list />
-          </value>
-        </entry>
-        <entry key="User">
-          <value>
-            <list />
-          </value>
-        </entry>
-      </map>
-    </option>
-  </component>
-  <component name="VcsManagerConfiguration">
-    <option name="CHECK_CODE_SMELLS_BEFORE_PROJECT_COMMIT" value="false" />
-    <option name="CHECK_NEW_TODO" value="false" />
-    <ignored-roots>
-      <path value="$PROJECT_DIR$/example/ios/.symlinks/plugins/image_pickers" />
-    </ignored-roots>
-    <MESSAGE value="修复安卓9无法加载图片问题" />
-    <MESSAGE value="ui颜色" />
-    <MESSAGE value="拍照，录制视频" />
-    <MESSAGE value="glide无法找到问题" />
-    <MESSAGE value="通过flutter端设置颜色，来改变原生图片选择页面颜色" />
-    <MESSAGE value="多图预览" />
-    <MESSAGE value="优化多图预览时内存问题" />
-    <MESSAGE value="修改corp 为 crop" />
-    <MESSAGE value="保存图片字节数据" />
-    <MESSAGE value="安卓Qgif裁剪后变成静态图问题" />
-    <MESSAGE value="适配安卓Q文件存储，修复小米手机崩溃问题" />
-    <MESSAGE value="修复 iOS 因为图片（right_arrow.png、left_arrow.png、error.png）导致的各种问题" />
-    <MESSAGE value="修复 因使用bitmap获取后缀名造成的崩溃" />
-    <MESSAGE value="固定ios使用图片选择库的版本3.1.2" />
-    <MESSAGE value="使用最新sdk，优化权限控制" />
-    <MESSAGE value="处理ios上架问题" />
-    <MESSAGE value="ios打包问题，更新图片选择的框架" />
-    <MESSAGE value="处理安卓10问题" />
-    <MESSAGE value="IOS适配13.0以下以及 返回箭头问题现同安卓效果" />
-    <MESSAGE value="未选择图片将返回空数组，未拍照或者未拍摄视频将返回null" />
-    <MESSAGE value="安卓更新最新的图片选择库" />
-    <MESSAGE value="安卓更新最新的图片选择库,适配 13" />
-    <MESSAGE value="ios更新最新的图片选择库" />
-    <MESSAGE value="发布2.0.1" />
-    <MESSAGE value="安卓再次 适配 13权限问题" />
-    <option name="LAST_COMMIT_MESSAGE" value="安卓再次 适配 13权限问题" />
-  </component>
-  <component name="XDebuggerManager">
-    <breakpoint-manager>
-      <breakpoints>
-        <line-breakpoint enabled="true" suspend="THREAD" type="com.jetbrains.cidr.execution.debugger.OCBreakpointType">
-          <url>file://$PROJECT_DIR$/ios/Classes/AKGallery/PlayTheVideoVC.m</url>
-          <line>112</line>
-          <option name="timeStamp" value="1" />
-        </line-breakpoint>
-      </breakpoints>
-    </breakpoint-manager>
-  </component>
 </project>
\ No newline at end of file
Index: example/lib/main.dart
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import 'dart:io';\r\nimport 'dart:typed_data';\r\n\r\nimport 'package:flutter/cupertino.dart';\r\nimport 'package:flutter/material.dart';\r\nimport 'package:flutter/rendering.dart';\r\nimport 'dart:async';\r\n\r\nimport 'package:flutter/services.dart';\r\nimport 'package:image_pickers/image_pickers.dart';\r\nimport 'dart:ui' as ui;\r\n\r\nvoid main() => runApp(MyApp());\r\n\r\nclass MyApp extends StatefulWidget {\r\n  @override\r\n  _MyAppState createState() => _MyAppState();\r\n}\r\n\r\nclass _MyAppState extends State<MyApp> {\r\n  GlobalKey? globalKey;\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    globalKey = GlobalKey();\r\n  }\r\n\r\n  List<Media> _listImagePaths = [];\r\n  List<Media> _listVideoPaths = [];\r\n  List<Media> _listImageVideoPaths = [];\r\n  String? dataImagePath = \"\";\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return RepaintBoundary(\r\n      key: globalKey,\r\n      child: MaterialApp(\r\n        theme: ThemeData(\r\n          backgroundColor: Colors.white,\r\n          primaryColor: Colors.white,\r\n        ),\r\n        home: Scaffold(\r\n          appBar: AppBar(\r\n            title: const Text('多图选择'),\r\n          ),\r\n          body: SingleChildScrollView(\r\n            physics: BouncingScrollPhysics(),\r\n            child: Column(\r\n              children: <Widget>[\r\n                GridView.builder(\r\n                    physics: NeverScrollableScrollPhysics(),\r\n                    itemCount: _listImagePaths.length,\r\n                    shrinkWrap: true,\r\n                    gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\r\n                        crossAxisCount: 3,\r\n                        mainAxisSpacing: 20.0,\r\n                        crossAxisSpacing: 10.0,\r\n                        childAspectRatio: 1.0),\r\n                    itemBuilder: (BuildContext context, int index) {\r\n                      return GestureDetector(\r\n                        onTap: () {\r\n//                        ImagePickers.previewImage(_listImagePaths[index].path);\r\n\r\n//                      List<String> paths = [];\r\n//                        _listImagePaths.forEach((media){\r\n//                          paths.add(media.path);\r\n//                        });\r\n//\r\n//                        ImagePickers.previewImages(paths,index);\r\n\r\n                          ImagePickers.previewImagesByMedia(\r\n                              _listImagePaths, index);\r\n                        },\r\n                        child: Image.file(\r\n                          File(\r\n                            _listImagePaths[index].path!,\r\n                          ),\r\n                          fit: BoxFit.cover,\r\n                        ),\r\n                      );\r\n                    }),\r\n                ElevatedButton(\r\n                  onPressed: () async {\r\n                    _listImagePaths = await ImagePickers.pickerPaths(\r\n                      galleryMode: GalleryMode.image,\r\n                      language: Language.chinese,\r\n                      showGif: true,\r\n                      selectCount: 5,\r\n                      showCamera: true,\r\n                      cropConfig:\r\n                          CropConfig(enableCrop: true, height: 1, width: 1),\r\n                      compressSize: 500,\r\n                      uiConfig: UIConfig(\r\n                        uiThemeColor: Color(0xffff0000),\r\n                      ),\r\n                    );\r\n                    print(_listImagePaths);\r\n                    if (_listImagePaths.length > 0) {\r\n                      _listImagePaths.forEach((media) {\r\n                        print(media);\r\n                      });\r\n                    }\r\n                    setState(() {});\r\n                  },\r\n                  child: Text(\"选择图片\"),\r\n                ),\r\n                ElevatedButton(\r\n                  onPressed: () async {\r\n                    ImagePickers.openCamera(\r\n                            cropConfig: CropConfig(\r\n                                enableCrop: true, width: 2, height: 3))\r\n                        .then((Media? media) {\r\n                      _listImagePaths.clear();\r\n                      if (media != null) {\r\n                        _listImagePaths.add(media);\r\n                      }\r\n                      setState(() {});\r\n                    });\r\n                  },\r\n                  child: Text(\"拍照\"),\r\n                ),\r\n                ElevatedButton(\r\n                  onPressed: () {\r\n                    ImagePickers.openCamera(\r\n                            cameraMimeType: CameraMimeType.video,\r\n                            videoRecordMinSecond: 3,\r\n                            videoRecordMaxSecond: 10)\r\n                        .then((media) {\r\n                      _listVideoPaths.clear();\r\n                      if (media != null) {\r\n                        print(media.path);\r\n                        _listVideoPaths.add(media);\r\n                      }\r\n                      setState(() {});\r\n                    });\r\n                  },\r\n                  child: Text(\"拍视频\"),\r\n                ),\r\n                GridView.builder(\r\n                    physics: NeverScrollableScrollPhysics(),\r\n                    itemCount: _listVideoPaths.length,\r\n                    shrinkWrap: true,\r\n                    gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\r\n                        crossAxisCount: 3,\r\n                        mainAxisSpacing: 20.0,\r\n                        crossAxisSpacing: 10.0,\r\n                        childAspectRatio: 1.0),\r\n                    itemBuilder: (BuildContext context, int index) {\r\n                      return GestureDetector(\r\n                        onTap: () {\r\n                          ImagePickers.previewVideo(\r\n                            _listVideoPaths[index].path!,\r\n                          );\r\n                        },\r\n                        child: Image.file(\r\n                          File(\r\n                            _listVideoPaths[index].thumbPath!,\r\n                          ),\r\n                          fit: BoxFit.cover,\r\n                        ),\r\n                      );\r\n                    }),\r\n                ElevatedButton(\r\n                  onPressed: () async {\r\n                    _listVideoPaths = await ImagePickers.pickerPaths(\r\n                      galleryMode: GalleryMode.video,\r\n                      videoRecordMinSecond: 3,\r\n                      videoRecordMaxSecond: 10,\r\n                      videoSelectMaxSecond: 30,\r\n                      videoSelectMinSecond: 5,\r\n                      selectCount: 2,\r\n                      showCamera: true,\r\n                    );\r\n                    setState(() {});\r\n                    print(_listVideoPaths);\r\n                  },\r\n                  child: Text(\"选择视频\"),\r\n                ),\r\n                GridView.builder(\r\n                    physics: NeverScrollableScrollPhysics(),\r\n                    itemCount: _listImageVideoPaths.length,\r\n                    shrinkWrap: true,\r\n                    gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\r\n                        crossAxisCount: 3,\r\n                        mainAxisSpacing: 20.0,\r\n                        crossAxisSpacing: 10.0,\r\n                        childAspectRatio: 1.0),\r\n                    itemBuilder: (BuildContext context, int index) {\r\n                      Media media = _listImageVideoPaths[index];\r\n                      return GestureDetector(\r\n                        onTap: () {\r\n                          if (media.galleryMode == GalleryMode.image) {\r\n                            ImagePickers.previewImage(media.path!);\r\n                          } else {\r\n                            ImagePickers.previewVideo(\r\n                              media.path!,\r\n                            );\r\n                          }\r\n                        },\r\n                        child: Image.file(\r\n                          File(\r\n                            _listImageVideoPaths[index].thumbPath!,\r\n                          ),\r\n                          fit: BoxFit.cover,\r\n                        ),\r\n                      );\r\n                    }),\r\n                ElevatedButton(\r\n                  onPressed: () async {\r\n                    _listImageVideoPaths = await ImagePickers.pickerPaths(\r\n                      galleryMode: GalleryMode.all,\r\n                      selectCount: 8,\r\n                      showCamera: true,\r\n                    );\r\n                    setState(() {});\r\n                    print(_listImageVideoPaths);\r\n                  },\r\n                  child: Text(\"选择图片和视频\"),\r\n                ),\r\n                InkWell(\r\n                    onTap: () {\r\n                      ImagePickers.previewImage(\r\n                          \"http://i1.sinaimg.cn/ent/d/2008-06-04/U105P28T3D2048907F326DT20080604225106.jpg\");\r\n                    },\r\n                    child: Image.network(\r\n                      \"http://i1.sinaimg.cn/ent/d/2008-06-04/U105P28T3D2048907F326DT20080604225106.jpg\",\r\n                      fit: BoxFit.cover,\r\n                      width: 100,\r\n                      height: 100,\r\n                    )),\r\n                ElevatedButton(\r\n                  onPressed: () {\r\n                    Future<String?> future = ImagePickers.saveImageToGallery(\r\n                        \"http://i1.sinaimg.cn/ent/d/2008-06-04/U105P28T3D2048907F326DT20080604225106.jpg\");\r\n                    future.then((path) {\r\n                      print(\"保存图片路径：\" + path!);\r\n                    });\r\n                  },\r\n                  child: Text(\"保存网络图片\"),\r\n                ),\r\n                dataImagePath == \"\"\r\n                    ? Container()\r\n                    : GestureDetector(\r\n                        onTap: () {\r\n                          ImagePickers.previewImage(dataImagePath!);\r\n                        },\r\n                        child: Image.file(\r\n                          File(dataImagePath!),\r\n                          fit: BoxFit.cover,\r\n                          width: 100,\r\n                          height: 100,\r\n                        )),\r\n                ElevatedButton(\r\n                  onPressed: () async {\r\n                    RenderRepaintBoundary boundary = globalKey!.currentContext!\r\n                        .findRenderObject() as RenderRepaintBoundary;\r\n                    ui.Image image = await boundary.toImage(pixelRatio: 3);\r\n                    ByteData byteData = await image.toByteData(\r\n                        format: ui.ImageByteFormat.png) as ByteData;\r\n                    Uint8List data = byteData.buffer.asUint8List();\r\n\r\n                    dataImagePath =\r\n                        await ImagePickers.saveByteDataImageToGallery(\r\n                      data,\r\n                    );\r\n\r\n                    print(\"保存截屏图片 = \" + dataImagePath!);\r\n                    setState(() {});\r\n                  },\r\n                  child: Text(\"保存截屏图片\"),\r\n                ),\r\n                ElevatedButton(\r\n                  onPressed: () {\r\n                    Future<String?> future = ImagePickers.saveVideoToGallery(\r\n                        \"http://vd4.bdstatic.com/mda-jbmn50510sid5yx5/sc/mda-jbmn50510sid5yx5.mp4\");\r\n                    future.then((path) {\r\n                      print(\"视频保存成功\" + path!);\r\n                    });\r\n                  },\r\n                  child: Text(\"保存视频\"),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/example/lib/main.dart b/example/lib/main.dart
--- a/example/lib/main.dart	(revision 462660a194f88c86bead6be6f625abf73e8ec926)
+++ b/example/lib/main.dart	(date 1680830782254)
@@ -212,6 +212,10 @@
                       galleryMode: GalleryMode.all,
                       selectCount: 8,
                       showCamera: true,
+                      videoRecordMinSecond: 3,
+                      videoRecordMaxSecond: 10,
+                      videoSelectMaxSecond: 30,
+                      videoSelectMinSecond: 5,
                     );
                     setState(() {});
                     print(_listImageVideoPaths);
Index: android/src/main/java/com/leeson/image_pickers/activitys/SelectPicsActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.leeson.image_pickers.activitys;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.pm.ActivityInfo;\r\nimport android.graphics.Bitmap;\r\nimport android.media.ThumbnailUtils;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\n\r\nimport com.leeson.image_pickers.AppPath;\r\nimport com.leeson.image_pickers.R;\r\nimport com.leeson.image_pickers.utils.CommonUtils;\r\nimport com.leeson.image_pickers.utils.GlideEngine;\r\nimport com.leeson.image_pickers.utils.ImageCompressEngine;\r\nimport com.leeson.image_pickers.utils.ImageCropEngine;\r\nimport com.leeson.image_pickers.utils.MeSandboxFileEngine;\r\nimport com.leeson.image_pickers.utils.PictureStyleUtil;\r\nimport com.luck.picture.lib.basic.PictureSelector;\r\nimport com.luck.picture.lib.config.PictureMimeType;\r\nimport com.luck.picture.lib.config.SelectMimeType;\r\nimport com.luck.picture.lib.config.SelectModeConfig;\r\nimport com.luck.picture.lib.dialog.RemindDialog;\r\nimport com.luck.picture.lib.entity.LocalMedia;\r\nimport com.luck.picture.lib.interfaces.OnResultCallbackListener;\r\nimport com.luck.picture.lib.language.LanguageConfig;\r\nimport com.luck.picture.lib.style.PictureSelectorStyle;\r\nimport com.luck.picture.lib.style.SelectMainStyle;\r\nimport com.luck.picture.lib.style.TitleBarStyle;\r\nimport com.luck.picture.lib.utils.StyleUtils;\r\nimport com.yalantis.ucrop.UCrop;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\n/**\r\n * Created by lisen on 2018-09-11.\r\n * 只选择多张图片，\r\n *\r\n * @author lisen < 453354858@qq.com >\r\n */\r\n@SuppressWarnings(\"all\")\r\npublic class SelectPicsActivity extends BaseActivity {\r\n\r\n    private static final int WRITE_SDCARD = 101;\r\n\r\n    public static final String GALLERY_MODE = \"GALLERY_MODE\";\r\n    public static final String UI_COLOR = \"UI_COLOR\";\r\n    public static final String SHOW_GIF = \"SHOW_GIF\";\r\n    public static final String SHOW_CAMERA = \"SHOW_CAMERA\";\r\n    public static final String ENABLE_CROP = \"ENABLE_CROP\";\r\n    public static final String WIDTH = \"WIDTH\";\r\n    public static final String HEIGHT = \"HEIGHT\";\r\n    public static final String COMPRESS_SIZE = \"COMPRESS_SIZE\";\r\n\r\n    public static final String SELECT_COUNT = \"SELECT_COUNT\";//可选择的数量\r\n\r\n    public static final String COMPRESS_PATHS = \"COMPRESS_PATHS\";//压缩的画\r\n    public static final String CAMERA_MIME_TYPE = \"CAMERA_MIME_TYPE\";//直接调用拍照或拍视频时有效\r\n    public static final String VIDEO_RECORD_MAX_SECOND = \"VIDEO_RECORD_MAX_SECOND\";//录制视频最大时间（秒）\r\n    public static final String VIDEO_RECORD_MIN_SECOND = \"VIDEO_RECORD_MIN_SECOND\";//录制视频最最小时间（秒）\r\n    public static final String VIDEO_SELECT_MAX_SECOND = \"VIDEO_SELECT_MAX_SECOND\";//选择视频时视频最大时间（秒）\r\n    public static final String VIDEO_SELECT_MIN_SECOND = \"VIDEO_SELECT_MIN_SECOND\";//选择视频时视频最小时间（秒）\r\n    public static final String LANGUAGE = \"LANGUAGE\";\r\n\r\n\r\n    @Override\r\n    public void onCreate(@androidx.annotation.Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_select_pics);\r\n\r\n        startSel();\r\n    }\r\n\r\n    private UCrop.Options buildOptions(PictureSelectorStyle selectorStyle) {\r\n        UCrop.Options options = new UCrop.Options();\r\n        if (selectorStyle != null && selectorStyle.getSelectMainStyle().getStatusBarColor() != 0) {\r\n            SelectMainStyle mainStyle = selectorStyle.getSelectMainStyle();\r\n            boolean isDarkStatusBarBlack = mainStyle.isDarkStatusBarBlack();\r\n            int statusBarColor = mainStyle.getStatusBarColor();\r\n            options.isDarkStatusBarBlack(isDarkStatusBarBlack);\r\n            options.setSkipCropMimeType(new String[]{PictureMimeType.ofGIF(), PictureMimeType.ofWEBP()});\r\n            if (StyleUtils.checkStyleValidity(statusBarColor)) {\r\n                options.setStatusBarColor(statusBarColor);\r\n                options.setToolbarColor(statusBarColor);\r\n            }\r\n            TitleBarStyle titleBarStyle = selectorStyle.getTitleBarStyle();\r\n            if (StyleUtils.checkStyleValidity(titleBarStyle.getTitleTextColor())) {\r\n                options.setToolbarWidgetColor(titleBarStyle.getTitleTextColor());\r\n            }\r\n        }\r\n        return options;\r\n    }\r\n\r\n    private int getLang(String language){\r\n        if (\"chinese\".equals(language)){\r\n            return LanguageConfig.CHINESE;\r\n        }else if (\"traditional_chinese\".equals(language)){\r\n            return LanguageConfig.TRADITIONAL_CHINESE;\r\n        }else if (\"english\".equals(language)){\r\n            return LanguageConfig.ENGLISH;\r\n        }else if (\"japanese\".equals(language)){\r\n            return LanguageConfig.JAPAN;\r\n        }else if (\"france\".equals(language)){\r\n            return LanguageConfig.FRANCE;\r\n        }else if (\"german\".equals(language)){\r\n            return LanguageConfig.GERMANY;\r\n        }else if (\"russian\".equals(language)){\r\n            return LanguageConfig.RU;\r\n        }else if (\"vietnamese\".equals(language)){\r\n            return LanguageConfig.VIETNAM;\r\n        }else if (\"korean\".equals(language)){\r\n            return LanguageConfig.KOREA;\r\n        }else if (\"portuguese\".equals(language)){\r\n            return LanguageConfig.PORTUGAL;\r\n        }else if (\"spanish\".equals(language)){\r\n            return LanguageConfig.SPANISH;\r\n        }else if (\"arabic\".equals(language)){\r\n            return LanguageConfig.AR;\r\n        }\r\n        return LanguageConfig.SYSTEM_LANGUAGE;\r\n    }\r\n    private void startSel() {\r\n\r\n        String mode = getIntent().getStringExtra(GALLERY_MODE);\r\n        Map<String, Number> uiColor = (Map<String, Number>) getIntent().getSerializableExtra(UI_COLOR);\r\n\r\n        Number selectCount = getIntent().getIntExtra(SELECT_COUNT, 9);\r\n        boolean showGif = getIntent().getBooleanExtra(SHOW_GIF, true);\r\n        boolean showCamera = getIntent().getBooleanExtra(SHOW_CAMERA, false);\r\n        boolean enableCrop = getIntent().getBooleanExtra(ENABLE_CROP, false);\r\n        Number width = getIntent().getIntExtra(WIDTH, 1);\r\n        Number height = getIntent().getIntExtra(HEIGHT, 1);\r\n        Number compressSize = getIntent().getIntExtra(COMPRESS_SIZE, 500);\r\n        String mimeType = getIntent().getStringExtra(CAMERA_MIME_TYPE);\r\n\r\n        Number videoRecordMaxSecond = getIntent().getIntExtra(VIDEO_RECORD_MAX_SECOND, 120);\r\n        Number videoRecordMinSecond = getIntent().getIntExtra(VIDEO_RECORD_MIN_SECOND, 1);\r\n        Number videoSelectMaxSecond = getIntent().getIntExtra(VIDEO_SELECT_MAX_SECOND, 120);\r\n        Number videoSelectMinSecond = getIntent().getIntExtra(VIDEO_SELECT_MIN_SECOND, 1);\r\n\r\n        String language = getIntent().getStringExtra(LANGUAGE);\r\n\r\n\r\n        PictureStyleUtil pictureStyleUtil = new PictureStyleUtil(this);\r\n        pictureStyleUtil.setStyle(uiColor);\r\n        PictureSelectorStyle selectorStyle = pictureStyleUtil.getSelectorStyle();\r\n        //添加图片\r\n        PictureSelector pictureSelector = PictureSelector.create(this);\r\n        if (mimeType != null) {\r\n            //直接调用拍照或拍视频时\r\n            PictureSelector.create(this).openCamera(\"photo\".equals(mimeType) ? SelectMimeType.ofImage() : SelectMimeType.ofVideo())\r\n                    .setRecordVideoMaxSecond(videoRecordMaxSecond.intValue())\r\n                    .setRecordVideoMinSecond(videoRecordMinSecond.intValue())\r\n                    .setLanguage(getLang(language))\r\n                    .setOutputCameraDir(new AppPath(this).getAppVideoDirPath())\r\n                    .setCropEngine((enableCrop) ?\r\n                            new ImageCropEngine(this, buildOptions(selectorStyle), width.intValue(), height.intValue()) : null)\r\n                    .setCompressEngine(new ImageCompressEngine(compressSize.intValue()))\r\n                    ./*setCameraInterceptListener(new OnCameraInterceptListener() {\r\n                @Override\r\n                public void openCamera(Fragment fragment, int cameraMode, int requestCode) {\r\n                    //自定义相机\r\n                    Log.e(\"TAG\", \"openCamera: 自定义相机\" );\r\n                }\r\n            }).*/setSandboxFileEngine(new MeSandboxFileEngine()).forResult(new OnResultCallbackListener<LocalMedia>() {\r\n                @Override\r\n                public void onResult(ArrayList<LocalMedia> result) {\r\n                    if (result != null && result.size() > 0){\r\n                        LocalMedia localMedia = result.get(0);\r\n                        if (\"video\".equals(mimeType)){\r\n                            long videoDuration = localMedia.getDuration()/1000;\r\n                            String tips = \"\";\r\n                            if (videoDuration < videoRecordMinSecond.intValue()){\r\n                                tips = getString(R.string.ps_select_video_min_second,videoRecordMinSecond.intValue());\r\n                            }else if (videoDuration > videoRecordMaxSecond.intValue()){\r\n                                tips = getString(R.string.ps_select_video_max_second,videoRecordMaxSecond.intValue());\r\n                            }\r\n                            RemindDialog tipsDialog = RemindDialog.buildDialog(SelectPicsActivity.this,tips);\r\n                            tipsDialog.setOnDismissListener(new DialogInterface.OnDismissListener() {\r\n                                @Override\r\n                                public void onDismiss(DialogInterface dialog) {\r\n                                    Intent intent = new Intent();\r\n                                    intent.putExtra(COMPRESS_PATHS, new ArrayList<>());\r\n                                    setResult(RESULT_OK, intent);\r\n                                    finish();\r\n                                }\r\n                            });\r\n                            tipsDialog.show();\r\n\r\n                        }else{\r\n                            handlerResult(result);\r\n                        }\r\n                    }else{\r\n                        Intent intent = new Intent();\r\n                        intent.putExtra(COMPRESS_PATHS, new ArrayList<>());\r\n                        setResult(RESULT_OK, intent);\r\n                        finish();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancel() {\r\n                    Intent intent = new Intent();\r\n                    intent.putExtra(COMPRESS_PATHS, new ArrayList<>());\r\n                    setResult(RESULT_OK, intent);\r\n                    finish();\r\n                }\r\n            });\r\n        } else {\r\n\r\n            int selectMimeType = SelectMimeType.ofImage();\r\n            if(\"image\".equals(mode)){\r\n                selectMimeType = SelectMimeType.ofImage();\r\n            }else if (\"video\".equals(mode)){\r\n                selectMimeType = SelectMimeType.ofVideo();\r\n            }else{\r\n                selectMimeType = SelectMimeType.ofAll();\r\n            }\r\n            Log.e(\"TAG\", \"startSel: \"+selectMimeType+\" == \"+mode );\r\n            PictureSelector.create(this).openGallery(selectMimeType)\r\n                    .setImageEngine(GlideEngine.createGlideEngine())\r\n                    .setSelectorUIStyle(pictureStyleUtil.getSelectorStyle())\r\n                    .setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT)\r\n                    .setRecordVideoMaxSecond(videoRecordMaxSecond.intValue())\r\n                    .setRecordVideoMinSecond(videoRecordMinSecond.intValue())\r\n                    .setLanguage(getLang(language))\r\n                    .setOutputCameraDir(new AppPath(this).getAppVideoDirPath())\r\n                    .setCropEngine(enableCrop ?\r\n                            new ImageCropEngine(this, buildOptions(selectorStyle), width.intValue(), height.intValue()) : null)\r\n                    .setCompressEngine(new ImageCompressEngine(compressSize.intValue()))\r\n                    .setSandboxFileEngine(new MeSandboxFileEngine())\r\n                    .isDisplayCamera(showCamera)\r\n                    .isGif(showGif)\r\n                    .setSelectMaxDurationSecond(videoSelectMaxSecond.intValue())\r\n                    .setSelectMinDurationSecond(videoSelectMinSecond.intValue())\r\n                    .setFilterVideoMaxSecond(videoSelectMaxSecond.intValue())\r\n                    .setFilterVideoMinSecond(videoSelectMinSecond.intValue())\r\n                    .setMaxSelectNum(selectCount.intValue())\r\n                    .setMaxVideoSelectNum(selectCount.intValue())\r\n                    .isWithSelectVideoImage(true)\r\n                    .setImageSpanCount(4)// 每行显示个数 int\r\n                    .setSelectionMode(selectCount.intValue() == 1 ? SelectModeConfig.SINGLE : SelectModeConfig.MULTIPLE)// 多选 or 单选 PictureConfig.MULTIPLE or PictureConfig.SINGLE\r\n                    .isDirectReturnSingle(true)\r\n                    .setSkipCropMimeType(new String[]{PictureMimeType.ofGIF(), PictureMimeType.ofWEBP()})\r\n                    .isPreviewImage(true)\r\n                    .isPreviewVideo(true)\r\n                    .forResult(new OnResultCallbackListener<LocalMedia>() {\r\n                        @Override\r\n                        public void onResult(ArrayList<LocalMedia> result) {\r\n                            handlerResult(result);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancel() {\r\n                            Intent intent = new Intent();\r\n                            intent.putExtra(COMPRESS_PATHS, new ArrayList<>());\r\n                            setResult(RESULT_OK, intent);\r\n                            finish();\r\n                        }\r\n                    });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private void handlerResult(ArrayList<LocalMedia> selectList) {\r\n        List<Map<String, String>> paths = new ArrayList<>();\r\n        for (int i = 0; i < selectList.size(); i++) {\r\n            LocalMedia localMedia = selectList.get(i);\r\n\r\n            if (localMedia.getMimeType().contains(\"image\")){\r\n                String path = localMedia.getAvailablePath();\r\n                if (localMedia.isCut()) {\r\n                    path = localMedia.getCutPath();\r\n                }\r\n                Map<String, String> map = new HashMap<>();\r\n                map.put(\"thumbPath\", path);\r\n                map.put(\"path\", path);\r\n                paths.add(map);\r\n\r\n            }else{\r\n                if (localMedia.getAvailablePath() == null) {\r\n                    break;\r\n                }\r\n                Bitmap bitmap = ThumbnailUtils.createVideoThumbnail(localMedia.getAvailablePath(), MediaStore.Video.Thumbnails.FULL_SCREEN_KIND);\r\n                String thumbPath = CommonUtils.saveBitmap(this, new AppPath(this).getAppImgDirPath(), bitmap);\r\n                Map<String, String> map = new HashMap<>();\r\n                map.put(\"thumbPath\", thumbPath);\r\n                map.put(\"path\", localMedia.getAvailablePath());\r\n                paths.add(map);\r\n            }\r\n\r\n        }\r\n        Intent intent = new Intent();\r\n        intent.putExtra(COMPRESS_PATHS, (Serializable) paths);\r\n        setResult(RESULT_OK, intent);\r\n        finish();\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/android/src/main/java/com/leeson/image_pickers/activitys/SelectPicsActivity.java b/android/src/main/java/com/leeson/image_pickers/activitys/SelectPicsActivity.java
--- a/android/src/main/java/com/leeson/image_pickers/activitys/SelectPicsActivity.java	(revision 462660a194f88c86bead6be6f625abf73e8ec926)
+++ b/android/src/main/java/com/leeson/image_pickers/activitys/SelectPicsActivity.java	(date 1680830569824)
@@ -175,24 +175,27 @@
                         LocalMedia localMedia = result.get(0);
                         if ("video".equals(mimeType)){
                             long videoDuration = localMedia.getDuration()/1000;
-                            String tips = "";
-                            if (videoDuration < videoRecordMinSecond.intValue()){
-                                tips = getString(R.string.ps_select_video_min_second,videoRecordMinSecond.intValue());
-                            }else if (videoDuration > videoRecordMaxSecond.intValue()){
-                                tips = getString(R.string.ps_select_video_max_second,videoRecordMaxSecond.intValue());
-                            }
-                            RemindDialog tipsDialog = RemindDialog.buildDialog(SelectPicsActivity.this,tips);
-                            tipsDialog.setOnDismissListener(new DialogInterface.OnDismissListener() {
-                                @Override
-                                public void onDismiss(DialogInterface dialog) {
-                                    Intent intent = new Intent();
-                                    intent.putExtra(COMPRESS_PATHS, new ArrayList<>());
-                                    setResult(RESULT_OK, intent);
-                                    finish();
-                                }
-                            });
-                            tipsDialog.show();
-
+                            if(videoDuration < videoRecordMinSecond.intValue() || videoDuration > videoRecordMaxSecond.intValue()){
+                                String tips = "";
+                                if (videoDuration < videoRecordMinSecond.intValue()){
+                                    tips = getString(R.string.ps_select_video_min_second,videoRecordMinSecond.intValue());
+                                }else if (videoDuration > videoRecordMaxSecond.intValue()){
+                                    tips = getString(R.string.ps_select_video_max_second,videoRecordMaxSecond.intValue());
+                                }
+                                RemindDialog tipsDialog = RemindDialog.buildDialog(SelectPicsActivity.this,tips);
+                                tipsDialog.setOnDismissListener(new DialogInterface.OnDismissListener() {
+                                    @Override
+                                    public void onDismiss(DialogInterface dialog) {
+                                        Intent intent = new Intent();
+                                        intent.putExtra(COMPRESS_PATHS, new ArrayList<>());
+                                        setResult(RESULT_OK, intent);
+                                        finish();
+                                    }
+                                });
+                                tipsDialog.show();
+                            }else{
+                                handlerResult(result);
+                            }
                         }else{
                             handlerResult(result);
                         }
@@ -222,7 +225,7 @@
             }else{
                 selectMimeType = SelectMimeType.ofAll();
             }
-            Log.e("TAG", "startSel: "+selectMimeType+" == "+mode );
+
             PictureSelector.create(this).openGallery(selectMimeType)
                     .setImageEngine(GlideEngine.createGlideEngine())
                     .setSelectorUIStyle(pictureStyleUtil.getSelectorStyle())
